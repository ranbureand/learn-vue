function hexToRgb(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}function lerp(t,e,s){return(1-s)*t+s*e}var exercise=new Vue({el:"#exercise",data:{c1:{HSL:[40,80,80],RGB:[],HEX:"",A:1},c2:{HSL:[120,40,80],RGB:[],HEX:"",A:1},palette:[],interpolations:8},watch:{palette:function(){console.log("Palette is changed.")},c1:{handler:function(t){console.log("C1 is changed.")},deep:!0},c2:{handler:function(){console.log("C2 is changed.")},deep:!0}},methods:{debug:function(t){console.log("HSLuv: ["+this[t].HSL[0]+", "+this[t].HSL[1]+", "+this[t].HSL[2]+", "+this[t].A+"]."),console.log("RGB: ["+this[t].RGB[0]+", "+this[t].RGB[1]+", "+this[t].RGB[2]+", "+this[t].A+"]."),console.log("HEX: ["+this[t].HEX+", "+this[t].A+"].")},translateHSL:function(t){var e=window.hsluv.hsluvToRgb(this[t].HSL);this[t].RGB=[Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])],this[t].HEX=window.hsluv.hsluvToHex(this[t].HSL),this.debug(t)},translateRGB:function(t){var e=window.hsluv.rgbToHsluv([this[t].RGB[0]/255,this[t].RGB[1]/255,this[t].RGB[2]/255]);this[t].HSL=[Math.round(e[0]),Math.round(e[1]),Math.round(e[2])],this[t].HEX=window.hsluv.hsluvToHex(this[t].HSL),this.debug(t)},translateHEX:function(t){this[t].RGB=hexToRgb(this[t].HEX);var e=window.hsluv.rgbToHsluv([this[t].RGB[0]/255,this[t].RGB[1]/255,this[t].RGB[2]/255]);this[t].HSL=[Math.round(e[0]),Math.round(e[1]),Math.round(e[2])],this.debug(t)},paint:function(t,e){return"alpha"==e?{"background-color":t.HEX}:{"background-color":"rgba("+t.RGB[0]+","+t.RGB[1]+","+t.RGB[2]+","+t.A+")"}},interpolate:function(t,e){this.palette=[];for(var s=0;s<this.interpolations;s++){var o=lerp(this[t].HSL[0],this[e].HSL[0],s/(this.interpolations-1)),i=lerp(this[t].HSL[1],this[e].HSL[1],s/(this.interpolations-1)),n=lerp(this[t].HSL[2],this[e].HSL[2],s/(this.interpolations-1)),h=lerp(this[t].A,this[e].A,s/(this.interpolations-1)),a=[o,i,n],l=window.hsluv.hsluvToRgb([o,i,n]),r=window.hsluv.hsluvToHex([o,i,n]);a=[Math.round(a[0]),Math.round(a[1]),Math.round(a[2])],l=[Math.round(255*l[0]),Math.round(255*l[1]),Math.round(255*l[2])],this.palette.unshift({HSL:[a[0],a[1],a[2]],RGB:[l[0],l[1],l[2]],HEX:r,A:h})}console.log(this.palette.length),console.log(this.palette)}}});exercise.translateHSL("c1"),exercise.translateHSL("c2"),exercise.interpolate("c1","c2"),console.log(exercise.palette[4]),console.log(exercise.c1.RGB[0]);